<!DOCTYPE html>
<html lang="en">
<head>
	<title>Learn C++  &raquo; 2.4a &#8212; Fixed-width integers and the unsigned controversy &raquo; Print</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="Robots" content="noindex, nofollow" />
			<link rel="stylesheet" href="http://www.learncpp.com/blog/wp-content/plugins/wp-print/print-css.css" type="text/css" media="screen, print" />
			<link rel="canonical" href="http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/" />
</head>
<body>

<main role="main" class="center">

	
		<header class="entry-header">

			<span class="hat">
				<strong>
					- Learn C++ 
					- 
					<span dir="ltr">http://www.learncpp.com</span> 
					-
				</strong>
			</span>
			
			<div class='code-block code-block-1' style='float:left;margin:8px 8px 8px 0px;'><div class="ABD_display_wrapper ABD_shortcode_571576a3d515d"><div class="ABD_display ABD_display_noadblock"><div class="cf_monitor">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-0588844875925051";
/* Content Page Top Large */
google_ad_slot = "7945645163";
google_ad_width = 336;
google_ad_height = 280;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div><div class="ABD_display ABD_display_adblock" style="display: none;"><div style="width: 336px; height: 280px; display: inline-block; margin: 15px; padding: 15px; border-width: 1px; border-style: solid">
  <p>Hi there.</p>
  
  <p>It looks like you're using an ad blocker.</p>

  <p>That's okay.  But we would like you to know that we are able to keep this content free and updated because we're ad supported.</p>
  
  <p>If you're finding our content valuable, please consider supporting us by disabling your ad blocker for just this site.</p>

  <p>Thanks,</p>

  <p>Alex<br>LearnCpp.com</p>
</div></div></div></div>
			<h1 class="entry-title">
				2.4a &#8212; Fixed-width integers and the unsigned controversy			</h1>

			<span class="entry-date">

				Posted By 

				<cite>Alex</cite> 

				On 

				<time>	
					November 25, 2011 @ 9:59 pm 
				</time>

			  	<span>
			  		In 
			  		C++ Tutorial | 
			  	</span>	

		  		<a href='#comments_controls'>
		  			51 Comments	  			</a>	  			

				</span>
			
		</header>	

		<div class="entry-content">

			<p>In the previous lesson <a href="http://www.learncpp.com/cpp-tutorial/24-integers/" rel="external">2.4 -- Integers</a> <sup>[1]</sup> you learned that C++ only guarantees that integer variables will have a minimum size -- but they could be larger, depending on the target system.</p>
<p><strong>Why isn&#8217;t the size of the integer variables fixed?</strong></p>
<p>The short, non-technical answer is that this goes back to C, when performance was of utmost concern.  C opted to intentionally leave the size of an integer open so that the compiler implementers could pick a size for int that performs best on the target computer architecture.</p>
<p><strong>Doesn&#8217;t this suck?</strong></p>
<p>Yes!  As a programmer, it&#8217;s a little ridiculous to have to deal with variables whose size could vary depending on the target architecture.</p>
<p><strong>Fixed-width integers</strong></p>
<p>To help with cross-platform portability, C99 defined a set of <strong>fixed-width integers</strong> (in the stdint.h header) that are guaranteed to have the same size on any architecture.</p>
<p>These are defined as follows:</p>
<table border=1 cellspacing=0 cellpadding=5>
<tr>
<th>Name</th>
<th>Type</th>
<th>Range</th>
</tr>
<tr>
<td>int8_t</td>
<td>1 byte signed</td>
<td>-128 to 127</td>
</tr>
<tr>
<td>uint8_t</td>
<td>1 byte unsigned</td>
<td>0 to 255</td>
</tr>
<tr>
<td>int16_t</td>
<td>2 byte signed</td>
<td>-32,768 to 32,767</td>
</tr>
<tr>
<td>uint16_t</td>
<td>2 byte unsigned</td>
<td>0 to 65,535</td>
</tr>
<tr>
<td>int32_t</td>
<td>4 byte signed</td>
<td>-2,147,483,648 to 2,147,483,647</td>
</tr>
<tr>
<td>uint32_t</td>
<td>4 byte unsigned</td>
<td>0 to 4,294,967,295</td>
</tr>
<tr>
<td>int64_t</td>
<td>8 byte signed</td>
<td>-9,223,372,036,854,775,808 to 9,223,372,036,854,775,807</td>
</tr>
<tr>
<td>uint64_t</td>
<td>8 byte unsigned</td>
<td>0 to 18,446,744,073,709,551,615</td>
</tr>
</table>
<p>C++ officially adopted these fixed-width integers as part of C++11.  They can be accessed by including the cstdint header.  Here&#8217;s an example:</p>
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-5748538d299af535002295" class="crayon-syntax crayon-theme-familiar-learncppcom crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5748538d299af535002295-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5748538d299af535002295-2">2</div><div class="crayon-num" data-line="crayon-5748538d299af535002295-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5748538d299af535002295-4">4</div><div class="crayon-num" data-line="crayon-5748538d299af535002295-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5748538d299af535002295-6">6</div><div class="crayon-num" data-line="crayon-5748538d299af535002295-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5748538d299af535002295-8">8</div><div class="crayon-num" data-line="crayon-5748538d299af535002295-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5748538d299af535002295-1"><span class="crayon-p">#include &lt;iostream&gt;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5748538d299af535002295-2"><span class="crayon-p">#include &lt;cstdint&gt;</span></div><div class="crayon-line" id="crayon-5748538d299af535002295-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5748538d299af535002295-4"><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5748538d299af535002295-5"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5748538d299af535002295-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">int16</span><span class="crayon-sy">_</span>t<span class="crayon-h"> </span><span class="crayon-e">i</span><span class="crayon-sy">(</span><span class="crayon-cn">5</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// direct initialization</span></div><div class="crayon-line" id="crayon-5748538d299af535002295-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">std</span><span class="crayon-o">::</span><span class="crayon-r">cout</span><span class="crayon-h"> </span><span class="crayon-o">&lt;&lt;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5748538d299af535002295-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5748538d299af535002295-9"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0099 seconds] -->
<p></p>
<p>Even though these weren&#8217;t adopted in C++ until C++11, because they were part of the C99 standard, some older C++ compilers offer access to these types, typically by including stdint.h.  Visual Studio 2005 and 2008 do not include stdint.h, but 2010 does.</p>
<p>If you are using the boost library, boost provides these as part of &lt;boost/cstdint.hpp&gt;.</p>
<p>If your compiler does not include cstdint or stdint.h, the good news is that you can download Paul Hsieh&#8217;s <a href="http://www.azillionmonkeys.com/qed/pstdint.h" rel="external">pstdint.h cross-platform compatible version of the stdint.h header</a> <sup>[2]</sup>.  Simply include the pstdint.h file in your project and it will define the fixed width integer types with the proper sizes for your platform.</p>
<p><strong>Warning: int8_t and uint8_t may or may not behave like chars</strong></p>
<p>Due to an oversight in the C++ specification, most compilers define and treat int8_t and uint8_t identically to types signed char and unsigned char respectively, but this is not required.  Consequently, std::cin and std::cout may work differently than you&#8217;re expecting.  We cover char types in more detail in section <a href="http://www.learncpp.com/cpp-tutorial/27-chars/" rel="external">2.7 -- Chars</a> <sup>[3]</sup>. </p>
<p>Until this is clarified by a future draft of C++, you should assume that int8_t and uint8_t may or may not behave like char types.</p>
<p><strong>Integer best practices</strong></p>
<p>Now that fixed-width integers have been added to C++, the best practice for integers in C++ is as follows:</p>
<ul>
<li><em>int</em> can be used when the integer size doesn&#8217;t matter and isn&#8217;t going to be large.</li>
<li>Fixed-width integers should be used in all other cases, especially when you need an integer with a guaranteed width.</li>
<li>Only use unsigned types if you have a compelling reason.</li>
</ul>
<p>Some compilers define their own version of fixed width integers -- for example, Visual Studio defines __int8, __int16, etc&#8230;  You should avoid these like the plague.</p>
<p><strong>The controversy over unsigned numbers</strong></p>
<p>Many developers (and some large development houses, such as Google) believe that developers should generally avoid unsigned integers.  This is largely because unexpected behavior can result when you mix signed and unsigned integers.</p>
<p>Consider the following snippet:</p>
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-5748538d299c2167920896" class="crayon-syntax crayon-theme-familiar-learncppcom crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" no-popup minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-plain-wrap"></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5748538d299c2167920896-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5748538d299c2167920896-2">2</div><div class="crayon-num" data-line="crayon-5748538d299c2167920896-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5748538d299c2167920896-4">4</div><div class="crayon-num" data-line="crayon-5748538d299c2167920896-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5748538d299c2167920896-6">6</div><div class="crayon-num" data-line="crayon-5748538d299c2167920896-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5748538d299c2167920896-8">8</div><div class="crayon-num" data-line="crayon-5748538d299c2167920896-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5748538d299c2167920896-1"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">doSomething</span><span class="crayon-sy">(</span><span class="crayon-t">unsigned</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5748538d299c2167920896-2"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5748538d299c2167920896-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Run some code x times</span></div><div class="crayon-line crayon-striped-line" id="crayon-5748538d299c2167920896-4"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5748538d299c2167920896-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5748538d299c2167920896-6"><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5748538d299c2167920896-7"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5748538d299c2167920896-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">doSomething</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5748538d299c2167920896-9"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p></p>
<p>What happens in this case?  -1 gets converted to some large number (probably 4294967295), and your program goes ballistic.  But even worse, there&#8217;s no good way to guard against this condition from happening.  C++ will freely convert between signed and unsigned numbers, but it won&#8217;t do any range checking to make sure you don&#8217;t overflow your type.</p>
<p>Many modern programming language (such as Java and C#) either don&#8217;t include unsigned types, or limit their use.  Bjarne Stroustrup, the designer of C++, said, &#8220;Using an unsigned instead of an int to gain one more bit to represent positive integers is almost never a good idea&#8221;.</p>
<p>This doesn&#8217;t mean you have to avoid unsigned types altogether -- but if you do use them, use them only where they really make sense, and take care not to mix signed and unsigned numbers.  </p>
<p><i>Alex&#8217;s note: Most of this tutorial was written prior to these fixed-width integers being adopted into C++11, so we may use int in some examples where a fixed-width integer would be more appropriate.</i></p>
<table border=0 cellpadding=3>
<tr><td>
	<a href="http://www.learncpp.com/cpp-tutorial/25-floating-point-numbers/" rel="external"><img src="http://www.learncpp.com/images/CppTutorial/next.png" align=middle> 2.5 -- Floating point numbers</a> <sup>[4]</sup>
</td></tr>
<tr><td>
        <a href="http://www.learncpp.com/#Chapter0" rel="external"><img src="http://www.learncpp.com/images/CppTutorial/up.png" align=middle> Index</a> <sup>[5]</sup>
</td></tr>
<tr><td>
	<a href="http://www.learncpp.com/cpp-tutorial/24-integers/" rel="external"><img src="http://www.learncpp.com/images/CppTutorial/prev.png" align=middle> 2.4 -- Integers</a> <sup>[1]</sup>
</td></tr>
</table>

<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-email"><a href="http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/?share=email" rel="external"><span>Email</span></a> <sup>[6]</sup></li><li class="share-facebook"><a href="http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/?share=facebook" rel="external"><span>Facebook</span></a> <sup>[7]</sup></li><li class="share-twitter"><a href="http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/?share=twitter" rel="external"><span>Twitter</span></a> <sup>[8]</sup></li><li class="share-google-plus-1"><a href="http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/?share=google-plus-1" rel="external"><span>Google</span></a> <sup>[9]</sup></li><li class="share-pinterest"><a href="http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/?share=pinterest" rel="external"><span>Pinterest</span></a> <sup>[10]</sup></li><li class="share-end"></li></ul></div></div></div><div class='code-block code-block-2' style='float:left;margin:8px 8px 8px 0px;'><div class="cf_monitor">
<div id="171844866">
    <script type="text/javascript">
    try {
        window._mNHandle.queue.push(function () {
		    window._mNDetails.loadTag("171844866", "336x280", "171844866");
		    });
		}
    catch (error) {}
	</script>
</div>
</div></div>
		</div>

		
	<div class="comments">
			</div>
	
	<footer class="footer">
		<p>
			Article printed from 
			Learn C++: 

			<strong dir="ltr">
				http://www.learncpp.com			</strong>
		</p>

		<p>
			URL to article: 
			<strong dir="ltr">
				http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/			</strong>
		</p>
		
					<p>URLs in this post:<p style="margin: 2px 0;">[1] 2.4 -- Integers: <b><span dir="ltr">http://www.learncpp.com/cpp-tutorial/24-integers/</span></b></p><p style="margin: 2px 0;">[2] pstdint.h cross-platform compatible version of the stdint.h header: <b><span dir="ltr">http://www.azillionmonkeys.com/qed/pstdint.h</span></b></p><p style="margin: 2px 0;">[3] 2.7 -- Chars: <b><span dir="ltr">http://www.learncpp.com/cpp-tutorial/27-chars/</span></b></p><p style="margin: 2px 0;">[4] Image: <b><span dir="ltr">http://www.learncpp.com/cpp-tutorial/25-floating-point-numbers/</span></b></p><p style="margin: 2px 0;">[5] Image: <b><span dir="ltr">http://www.learncpp.com/#Chapter0</span></b></p><p style="margin: 2px 0;">[6] <span>Email</span>: <b><span dir="ltr">http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/?share=email</span></b></p><p style="margin: 2px 0;">[7] <span>Facebook</span>: <b><span dir="ltr">http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/?share=facebook</span></b></p><p style="margin: 2px 0;">[8] <span>Twitter</span>: <b><span dir="ltr">http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/?share=twitter</span></b></p><p style="margin: 2px 0;">[9] <span>Google</span>: <b><span dir="ltr">http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/?share=google-plus-1</span></b></p><p style="margin: 2px 0;">[10] <span>Pinterest</span>: <b><span dir="ltr">http://www.learncpp.com/cpp-tutorial/24a-fixed-width-integers/?share=pinterest</span></b></p></p>
		
		<p style="text-align: right;" id="print-link">
			<a href="#Print" onclick="window.print(); return false;" title="Click here to print.">
				Click 
				here				to print.			</a> 
		</p>

		
		<p style="text-align: center;">
			Copyright &copy; 2015 Learn C++. All rights reserved.		</p>
	</footer>

</main>


</body>
</html>

<!-- Dynamic page generated in 0.898 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-05-27 06:02:53 -->

<!-- Compression = gzip -->